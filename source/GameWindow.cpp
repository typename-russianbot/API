#include "../includes/Windows/GameWindow.h"

// TODO - Resources //
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: GameWindow(void)
GameWindow::GameWindow(void)
    : checkerboard({725, 175}), player1(checkerboard, blue),
      player2(checkerboard, yellow), highlight(yellow), visible(false) {

  //&* checkerboard
  toggleVisible(false);
  checkerboard.setPattern(red, white);
  checkerboard.resize(125);
  Tile tile = checkerboard.getCell({3, 0});
  player1.movePawn(0, tile.getPosition());

  return;
}
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: ~GameWindow(void)
GameWindow::~GameWindow(void) { return; }
////////////////////////////////////////////////////////////////////////////////////////

// TODO - Functions //
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: draw(RenderWindow&)
void GameWindow::draw(RenderWindow &window) {
  if (visible) {
    checkerboard.draw(window);
    player1.draw(window);
    player2.draw(window);
  }

  return;
}
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: highlights(const Vector2f)
void GameWindow::highlights(const Vector2f mousePos) {
  checkerboard.toggleHighlight(mousePos);
  return;
}
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: events(const Vector2f, RenderWindow&)
void GameWindow::events(const Vector2f mousePos, RenderWindow &window) {
  //? @note: Handle selectOrigin/selectDestination methods for the grid here
  return;
}
////////////////////////////////////////////////////////////////////////////////////////

// TODO - Toggles/Switches //
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: toggleVisible(const bool)
void GameWindow::toggleVisible(const bool toggle) {
  if (toggle) {
    checkerboard.toggleVisible(true);
    player1.toggleVisible(true);
    player2.toggleVisible(true);
    visible = true;
  } else {
    checkerboard.toggleVisible(false);
    player1.toggleVisible(false);
    player2.toggleVisible(false);
    visible = false;
  }

  return;
}
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//&* @public: isVisible(void)
bool GameWindow::isVisible(void) {
  if (visible)
    return true;

  return false;
}
////////////////////////////////////////////////////////////////////////////////////////